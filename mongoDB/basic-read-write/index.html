<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>mongo DBの基本的なRead Write | 技術の定点観測</title>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">
    <link rel="stylesheet" href="/pc.css">
    <link rel="stylesheet" href="/tablet.css">
    <link rel="stylesheet" href="/sp.css">
    <link rel="stylesheet" href="/prism.css">
</head>

<body>
    <header class="site-header">
        <h1><a href="">技術の定点観測</a></h1>
    </header>
    <div class="container">
        <div class="site-nav">
            <h2>サイト内トピック</h2>
            
    <ul>
    
        <li class="most-deep-item"><a href="../..">Hey!</a>
</li>
    
        <li class="most-deep-item"><a href="../../pick-up-article/">Pick Up Article</a>
</li>
    
        <li ><span><b><u>Django</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Django/Add new app/">DjangoにAppを新たに追加したときにやること</a>
</li>
      <li class="most-deep-item"><a href="../../Django/Introduction-of-Celery-Django/">Django 2.0にCelery 4.0を導入し、WEBの管理画面でCronを管理する</a>
</li>
      <li class="most-deep-item"><a href="../../Django/Seperate-Django-Database/">Djangoで複数のデータベースを利用する</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Firebase</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Firebase/Auth-Error-Tips/">FirebaseのAuthで躓いたこと</a>
</li>
      <li class="most-deep-item"><a href="../../Firebase/Firebase-Cloud-Functions/">FirebaseにおけるCloud Functions</a>
</li>
      <li class="most-deep-item"><a href="../../Firebase/Firebase-Starter/">Firebaseことはじめ</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Flask</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Flask/Hello-Flask-Streamming-Content/">Flaskのストリーミングを利用してみる</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Frontend</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Frontend/settings/">lodash</a>
</li>
      <li ><span><b><u>Es6</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Frontend/es6/usage-axios/">Axiosでasync/awaitを利用する</a>
</li>
  </ul>
</li>

      <li ><span><b><u>Vuejs</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Frontend/vuejs/my-vue-setup/">Vueのセットアップ</a>
</li>
      <li class="most-deep-item"><a href="../../Frontend/vuejs/nuxtjs/">Nuxt.jsをやる</a>
</li>
      <li class="most-deep-item"><a href="../../Frontend/vuejs/ssr-cache-investigation/">VuejsのSSR(Server Side Rendering)のページ・部分キャッシュは何で実装できるか</a>
</li>
      <li class="most-deep-item"><a href="../../Frontend/vuejs/vuex-usage/">VuexのModuleの使い方</a>
</li>
  </ul>
</li>

  </ul>
</li>

    
        <li ><span><b><u>GCP</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../GCP/Cloud-Function/">Cloud Function</a>
</li>
      <li class="most-deep-item"><a href="../../GCP/GKE/">GKEのコマンド</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Infrastructure</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Infrastructure/Multiple-Reverse-Proxy-Sapmle-with-oauth2_proxy/">複数のホストをoauth2_proxyを用いてOAuth認証してリバースプロキシする</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Nodejs</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Nodejs/Request-library-description-for-json-value/">nodeのrequestライブラリの`json`オプションの取り扱いについて</a>
</li>
      <li class="most-deep-item"><a href="../../Nodejs/dynamic-import/">PackageのDynamic Import</a>
</li>
      <li class="most-deep-item"><a href="../../Nodejs/execute-async-mjs/">Module jsで非同期関数を実行する</a>
</li>
      <li class="most-deep-item"><a href="../../Nodejs/manage-npm-package/">npmのpaackage管理について</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Poem</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Poem/Container-App-Directory-Management-Consideration/">コンテナアプリケーション作成時のディレクトリ成長設計の考察</a>
</li>
      <li class="most-deep-item"><a href="../../Poem/Container-Worker-Design/">コンテナ型のワーカーの設計（仮）</a>
</li>
      <li class="most-deep-item"><a href="../../Poem/TDD/">TDDポエム</a>
</li>
      <li class="most-deep-item"><a href="../../Poem/read-basic-knowledge-of-nosql/">NOSQLとは何か...</a>
</li>
      <li class="most-deep-item"><a href="../../Poem/static-site-generator/">静的サイトジェネレーターを選ぶとき、何を思ふ？</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Profile</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Profile/github-activity/">Githubの活動状況</a>
</li>
      <li class="most-deep-item"><a href="../../Profile/">Profileの目次</a>
</li>
      <li class="most-deep-item"><a href="../../Profile/skill/">スキルセット</a>
</li>
      <li class="most-deep-item"><a href="../../Profile/study-history/">参加した勉強会</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Tools</u></b></span>
</li>
<li>
  <ul>
      <li ><span><b><u>Cookiecutter</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Tools/Cookiecutter/usage/">自作のファイルテンプレート(雛形)を生成するCookiecutterの使い方</a>
</li>
  </ul>
</li>

      <li ><span><b><u>Git</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Tools/Git/git-tips/">Git Tips</a>
</li>
  </ul>
</li>

      <li ><span><b><u>Github</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Tools/Github/Github-GraphQL/">GithubのGraphQLを利用する</a>
</li>
      <li class="most-deep-item"><a href="../../Tools/Github/Github-Multi-Login-User/">Githubで複数ユーザーのログインをした時の対応</a>
</li>
  </ul>
</li>

      <li ><span><b><u>Slack</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Tools/Slack/slack-library/">言語別Slack通知ライブラリ</a>
</li>
  </ul>
</li>

      <li ><span><b><u>Zapier</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../Tools/Zapier/zapier-development/">Zapierで利用可能なアプリをを時前で作成する</a>
</li>
  </ul>
</li>

  </ul>
</li>

    
        <li ><span><b><u>Analytics</u></b></span>
</li>
<li>
  <ul>
      <li ><span><b><u>Jupyter</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../analytics/jupyter/change-jupyter-config-dir/">jupyter_notebook_config.pyの読み込み先を変更する</a>
</li>
  </ul>
</li>

      <li ><span><b><u>Pandas</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../analytics/pandas/pandas-convert-column-to-datetime/">PandasのColumnをDateTimeに型変換する</a>
</li>
      <li class="most-deep-item"><a href="../../analytics/pandas/visualize-time/">時間データのビジュアライズ</a>
</li>
  </ul>
</li>

  </ul>
</li>

    
        <li ><span><b><u>Event</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../event/2018-05-21-Cloud-Native/">[イベントレポート] Cloud Native Meetup Tokyo #1</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Kubernetes</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../kubernetes/Nginx access control for kubernetes/">Kubernetesに配置したNginxでアクセス制御する</a>
</li>
      <li class="most-deep-item"><a href="../../kubernetes/Shortcut-for-kubectl/">Kubernetesでよく使うコマンド（コピペ用）</a>
</li>
      <li class="most-deep-item"><a href="../../kubernetes/cron-wake-up-down/">GKEをCronで起動・停止させる</a>
</li>
      <li class="most-deep-item"><a href="../../kubernetes/error helm incompatible version/">Error: incompatible versions client[v2.8.2] server[v2.7.2]</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>mongoDB</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../basic-query/">MongoDBの基本クエリ</a>
</li>
      <li class="most-deep-item"><a href="./">mongo DBの基本的なRead Write</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Presentation</u></b></span>
</li>
<li>
  <ul>
      <li ><span><b><u>2018</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../presentation/2018/03-02-Yoidore-GCPUG-LT/">03 02 Yoidore GCPUG LT</a>
</li>
  </ul>
</li>

  </ul>
</li>

    
        <li ><span><b><u>Python</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../python/test-know-how/">Test know how</a>
</li>
  </ul>
</li>

    
        <li ><span><b><u>Raspberrypi</u></b></span>
</li>
<li>
  <ul>
      <li class="most-deep-item"><a href="../../raspberrypi/os-install/">Os install</a>
</li>
      <li class="most-deep-item"><a href="../../raspberrypi/purchace/">Purchace</a>
</li>
  </ul>
</li>

    
    </ul>

        </div>
        <div class="content">
            <div class="content-header">
<a href="https://twitter.com/share?ref_src=twsrc%5Etfw"
   class="twitter-share-button"
   data-text="mongo DBの基本的なRead Write"
   data-via="himenoglyph"
   data-related="himenoglyph"
   data-show-count="true">Tweet</a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

            </div>
            <div class="content-body">
    <h1 id="mongo_dbread_write">mongo DBの基本的なRead Write<a class="headerlink" href="#mongo_dbread_write" title="Permanent link">&para;</a></h1>
<h2 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h2>
<h3 id="write">Write<a class="headerlink" href="#write" title="Permanent link">&para;</a></h3>
<pre><code class="python">from pymongo import MongoClient
from datetime import datetime as dt

client = MongoClient('localhost', 27017)

db = client.sample_db

# sample_dbというCollectionを使う
collection = db.sample_db

sample_data = {
    &quot;author&quot;: 'your name',
    &quot;date&quot;: dt.now(),
    &quot;tags&quot;: [&quot;mongodb&quot;, &quot;nosql&quot;, &quot;tutorial&quot;, &quot;docker&quot;],
    &quot;comment&quot;: &quot;mongodbを使うためのサンプルです&quot;,
}

# &quot;ドキュメント&quot;(RDBだとレコードという) をひとつだけ書き込む
collection.insert_one(sample_data)

# Bulkデータのインサートを行う
bulk_data = [
    {&quot;x&quot;: 1, &quot;tags&quot;: [&quot;dog&quot;, &quot;cat&quot;]},
    {&quot;x&quot;: 2, &quot;tags&quot;: [&quot;cat&quot;]},
    {&quot;x&quot;: 2, &quot;tags&quot;: [&quot;mouse&quot;, &quot;cat&quot;, &quot;dog&quot;]},
    {&quot;x&quot;: 3, &quot;tags&quot;: []}
]

collection.insert_many(bulk_data)
</code></pre>

<h3 id="read">Read<a class="headerlink" href="#read" title="Permanent link">&para;</a></h3>
<pre><code class="python">from pymongo import MongoClient
from datetime import datetime as dt

client = MongoClient('localhost', 27017)

db = client.sample_db

collection = db.sample_db

# 全部取ってくる
for doc in collection.find():
    # docのtypeはdictionaryです
    # print(doc)
    doc

# 直近の1つだけをとってくる
one_data = collection.find_one()
print(one_data)

# 絞り込んで取得する
filter_one_data = collection.find_one({&quot;author&quot;: &quot;your name&quot;})
print(filter_one_data 
</code></pre>

            </div>
        </div>
        <div class="page-nav">
            <h2>ページ内目次</h2>
            <ul>
    
    <li><a href="#mongo_dbread_write">mongo DBの基本的なRead Write</a></li>
    
    <li><a href="#python">Python</a></li>
    
    
</ul>
        </div>
    </div>
    <script src="/prism.js"></script>
    <script src="/mermaid.min.js"></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-55455343-7', 'himenon.github.io');
ga('send', 'pageview');
</script>
</body>

</html>