---
title: "AbemaTV Developerカンファレンスに行ってきた"
description: "AbemaTV Developerカンファレンスに行ってきたときのメモ"
keywords: "conference,abemaTV,developer"
createdAt: 2018-12-01 11:07:21
updatedAt: 2018-12-01 11:07:21
---

# 目標合わせ

## 評価

* Brain HRの導入
  * 目標のオープン化

### 評価のキャリブレーション

## Management

* 組織成果を最大化する

## デバイス戦略

IPTV

# CTO 西尾


# 当時の開発

# Phase1

## チケット駆動開発

* 職種でトピックを分離
* 優先度定義
* やれるだけやる

--> スタンドプレイの最大化

## Google Cloud Platformの活用

開発速度を向上させた

時間を使いがちなポイントを省略した

## CDN

動画配信に最適化されたCDN
Akamai

* 信頼性

## テレビデバイス対応

マルチDRM対応

* FairPlay / Widevine / PlayRead

x

* HLS / MPEG-DASH

## Abemaビデオの提供

これまで

* リニアTV
* タイムシフトTV
* ビデオ

異なる視聴週間を融合
TV + カタログ(VOD)

# Phase2

## 亀田興毅に買ったら1000万円

落ちた！

* 伝送/配信の安定性
* 配信システムのアーキテクチャ

## 伝送・配信安定性

Encode -> 配信システム <- CDN>

台湾リージョンでやっていた

### Encoder -> 配信システム

* ラウンドトリップがでかい

Zixiを安定化

### 配信システム <-- CDN

Cloud Interconnectを導入し、CDN/Origin間の帯域

### 配信システムの分離

スケールアウト戦略の終焉

* システムは水平スケールすればいいかな....
* 物理的リソースのあっ口調には期間と投資が必要
  * 72時間ホンネテレビで試算すると
  * 物理的に限界が来る

リソースパズル

* リソースをどのように使うか
* リソースに見合う価値が提供できるか
* 不足した場合に何を落とすか

2017/05 - 2017/12

システムキャパシティを約5倍にした。

## マスメディアの実現に向けて

* テレビ放送に迫る信頼性で映像を視聴できるか
* テレビ放送のような均一な映像を提供できるか
* テレビ放送にない価値を提供できるか

### 技術ドメインの抽出とチーム化

### 視聴ステップ

* 素材
* インジェスト
* 虹素材の生成
* 取り込み
* マニュフェスト課
* オリジン参照
* キャッシング
* ラストマイル

**ストリーミングクライアント**

* 再生
* 視聴

# 映像とIPの間にいるテクニカルディレクター

スタジオ紹介

ARシステムの比較

* ARに必要なシステム

* カメラトラッキングシステム
* リアルタイム  グラフィックス ソフトウェア
* コントロール ソフトウェア
  * 自分たちで作る必要がある
  * 予算上も結構な金額になる
    * 誰に作ってもらうんだ？
    * テレビ朝日コーポレートデザインセンター

MリーグのスタジオのAR

# どうやって動かしているのか

カメラトラッキングシステム

* 日本初の常設
* 現状にマーカーが仕込まれている
* センサーが天井のマーカーーを照らすとトラッキングシステムに読み込まれる
* X・Y・Hの情報を計算する
  * ZOOMはカメラに別のセンサー


クレーンの上に乗せてグルグル回る

* マーカーは11個補足できていれば、ARは連動する

# MリーグスタジオのRCG（壁についていたやつ）

* RealTime CG

点数・リーチ・選手データ・チームデータ

クラウドからの
* 操作裾fツオウェア

* プロの麻雀はとても早い
* 操作の入力性を求めた

下二桁は変わらないので、削った


# AR/RCGブロック図

映像のブロック図

Systemは２式
RCGが落ちても、ARに切り替えができる。

どんだけ最悪でも得点だけは表示し続ける。


# NABSHOWに行って機材を見てきた

UNREAL ENGINEなどと、テレビ系の映像が連動するようになっている。



# 今後のAR部分の進化

* UNREAL ENGINEなど高精細3Dとの連携
* リモートカメラ


# どこまでがARか


# WebのSSR化とFastly移行
Kenichi Kato @ktknest

* AbemaTVのWebブラウザ版Webのアプリケーション構成

* React + RxxJS + Fluxパターン
* SPA
* デスクトップとモバイル別にHTMLなどを用意
  * こｒ−ラやSNSシェア向けにHTMLはページごとで出し分け

# Webサーバー構成

* 巨大なSPAにより、起動までに事案がかかる
* クローラーが正確にHTMLを認識できていない
  * JSの実行結果まで解釈されるが、完全ではない

# 実施したこと

* SSR化
* SSR化の要件を満たすためにはCDNへ移行

# SSR

# AbemaTVのアーキテクチャの変遷

















