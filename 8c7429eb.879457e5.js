(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{134:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return o})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return l}));var r=t(3),i=t(8),a=(t(0),t(197)),c={title:"viz.js\u3092React\u3092\u5229\u7528\u3059\u308b",description:"viz.js\u3092React\u3067\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002",keywords:["viz.js","react","\u4f7f\u3044\u65b9","hooks","useEffect","typescript"]},o={unversionedId:"javascript/vizjs-with-react",id:"javascript/vizjs-with-react",isDocsHomePage:!1,title:"viz.js\u3092React\u3092\u5229\u7528\u3059\u308b",description:"viz.js\u3092React\u3067\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002",source:"@site/docs/javascript/vizjs-with-react.md",slug:"/javascript/vizjs-with-react",permalink:"/docs/javascript/vizjs-with-react",editUrl:"https://github.com/Himenon/himenon.github.io/edit/default/docs/javascript/vizjs-with-react.md",version:"current",sidebar:"someSidebar",previous:{title:"\u8a8d\u8a3c\u5f8c\u306bcypress\u3092\u5229\u7528\u3057\u3066e2e\u30c6\u30b9\u30c8\u3092\u884c\u3046",permalink:"/docs/javascript/using-cypress-after-authentication"},next:{title:"JavaScript\u3067\u540c\u671f\u7684\u306await/sleep/delay\u95a2\u6570\u3092\u4f5c\u308b",permalink:"/docs/javascript/wait"}},s=[{value:"Install",id:"install",children:[]},{value:"\u4f7f\u3044\u65b9",id:"\u4f7f\u3044\u65b9",children:[]},{value:"React\u3067viz.js\u3092\u5229\u7528\u3059\u308b",id:"react\u3067vizjs\u3092\u5229\u7528\u3059\u308b",children:[]}],p={rightToc:s};function l(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"vizjs\u3068\u306f"},"viz.js\u3068\u306f"),Object(a.b)("p",null,Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"http://www.graphviz.org"}),"GraphViz"),"\u3092",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://emscripten.org"}),"emscripten"),"\u3067\u30d3\u30eb\u30c9\u3057\u305f\u30d6\u30e9\u30a6\u30b6\u7528\u306ewrapper\u30e9\u30a4\u30d6\u30e9\u30ea\u3002"),Object(a.b)("p",null,"GitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306fArchive\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u304c\u3001npm(",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.npmjs.com/package/viz.js)%E3%81%AE%E6%96%B9%E3%81%AB%E3%81%AF%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%8C%E5%AD%98%E5%9C%A8%E3%81%99%E3%82%8B%E3%81%AE%E3%81%A7%E3%80%81%E3%81%84%E3%81%BE%E3%82%82%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%A7%E3%81%8D%E3%82%8B%E3%80%82"}),"https://www.npmjs.com/package/viz.js)\u306e\u65b9\u306b\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5b58\u5728\u3059\u308b\u306e\u3067\u3001\u3044\u307e\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3002")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/mdaines/viz.js"}),"https://github.com/mdaines/viz.js"))),Object(a.b)("h2",{id:"install"},"Install"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"yarn add viz.js\n")),Object(a.b)("h2",{id:"\u4f7f\u3044\u65b9"},"\u4f7f\u3044\u65b9"),Object(a.b)("p",null,"API(",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/mdaines/viz.js/wiki/API)%E3%81%AB%E5%A4%A7%E4%BD%93%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%82%E3%82%8B%E3%81%91%E3%82%8C%E3%81%A9%E3%80%81Interface%E5%8C%96%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE%E3%82%92%E3%81%93%E3%81%93%E3%81%AB%E6%AE%8B%E3%81%97%E3%81%A6%E3%81%8A%E3%81%8F%E3%80%82"}),"https://github.com/mdaines/viz.js/wiki/API)\u306b\u5927\u4f53\u66f8\u3044\u3066\u3042\u308b\u3051\u308c\u3069\u3001Interface\u5316\u3057\u305f\u3082\u306e\u3092\u3053\u3053\u306b\u6b8b\u3057\u3066\u304a\u304f\u3002")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),'// types/viz.js/index.d.ts\ndeclare module "viz.js" {\n  interface VizOption {\n    workerURL?: string;\n    worker?: any;\n    Module?: Function;\n    render?: Function;\n  }\n  interface Image {\n    path: string;\n    width: string;\n    height: string;\n  }\n  interface File {\n    path: string;\n    data: string;\n  }\n  interface RenderOption {\n    engine?: string;\n    format: "svg", "dot", "xdot", "plain", "plain-ext", "ps", "ps2", "json", "json0";\n    yInvert?: boolean;\n    images?: Image[];\n    files?: File[];\n    nop?: number;\n  }\n  interface RenderImageElementOption {\n    scale?: number;\n    mimeType?: string;\n    quality?: number;\n  }\n  declare class Viz {\n      constructor(option: VizOption);\n      renderString(src: string, option?: RenderOption): Promise<string>;\n      renderSVGElement(src: string, option?: RenderOption): Promise<HTMLElement>;\n      renderImageElement(src: string, option?: RenderImageElementOption): Promise<string>;\n      renderJSONObject(src: string, option?: RenderImageElementOption): Promise<Object>;\n  }\n  export default Viz;\n}\n\ndeclare module "viz.js/full.render.js" {\n  export declare function Module () {};\n  export declare function render () {};\n}\n')),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"tsconfig.json"),"\u3067",Object(a.b)("inlineCode",{parentName:"p"},"compilerOptions.typeRoots"),"\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u578b\u5b9a\u7fa9\u304c\u6709\u52b9\u306b\u306a\u308b\u3002"),Object(a.b)("h2",{id:"react\u3067vizjs\u3092\u5229\u7528\u3059\u308b"},"React\u3067viz.js\u3092\u5229\u7528\u3059\u308b"),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"renderSVGElement"),"\u3092\u5229\u7528\u3057\u305f\u304f\u306a\u308b\u304c\u3001React\u304c\u76e3\u8996\u3067\u304d\u306a\u3044\u306e\u3067\u3001",Object(a.b)("inlineCode",{parentName:"p"},"renderString"),"\u3092\u5909\u308f\u308a\u306b\u5229\u7528\u3059\u308b\u3002\n\u305f\u3060\u306eHTML\u306estring\u3068\u3057\u3066",Object(a.b)("inlineCode",{parentName:"p"},"dangerouslySetInnerHTML"),"\u306b\u308f\u305f\u3059\u3053\u3068\u3067rendering\u3092\u5b9f\u73fe\u3067\u304d\u308b\u3002"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),'import React from "react";\nimport Viz from "viz.js";\nimport { Module, render } from "viz.js/full.render.js";\n\nexport const AppRouter = () => {\n  const viz = new Viz({ Module, render });\n  const [element, updateElement] = React.useState("");\n  React.useEffect(() => {\n    const f = async () => {\n      const elem: string = await viz.renderString("digraph { a -> b }");\n      updateElement(elem);\n    };\n    f().catch(console.error);\n  });\n  return (\n    <div\n      dangerouslySetInnerHTML={{\n        __html: element,\n      }}\n    ></div>\n  );\n};\n')))}l.isMDXComponent=!0},197:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return b}));var r=t(0),i=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=i.a.createContext({}),l=function(e){var n=i.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=l(e.components);return i.a.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},m=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(t),m=r,b=u["".concat(c,".").concat(m)]||u[m]||d[m]||a;return t?i.a.createElement(b,o(o({ref:n},p),{},{components:t})):i.a.createElement(b,o({ref:n},p))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,c=new Array(a);c[0]=m;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,c[1]=o;for(var p=2;p<a;p++)c[p]=t[p];return i.a.createElement.apply(null,c)}return i.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);